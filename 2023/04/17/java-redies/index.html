<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 5.4.2">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.13.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://fastly.jsdelivr.net'>
  <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>NoSQL数据库简介 - Alan</title>

  
    <meta name="description" content="NoSQL数据库简介![截屏2023-07-16 11.31.57](&#x2F;Users&#x2F;alan&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-07-16 11.31.57.png) ![截屏2023-07-16 11.29.31](&#x2F;Users&#x2F;alan&#x2F;Desktop&#x2F;截屏2023-07-16 11.29.31.png) ![截屏202">
<meta property="og:type" content="article">
<meta property="og:title" content="NoSQL数据库简介">
<meta property="og:url" content="https://alan.org.cn/2023/04/17/java-redies/index.html">
<meta property="og:site_name" content="Alan">
<meta property="og:description" content="NoSQL数据库简介![截屏2023-07-16 11.31.57](&#x2F;Users&#x2F;alan&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-07-16 11.31.57.png) ![截屏2023-07-16 11.29.31](&#x2F;Users&#x2F;alan&#x2F;Desktop&#x2F;截屏2023-07-16 11.29.31.png) ![截屏202">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-17T08:38:00.000Z">
<meta property="article:modified_time" content="2024-06-07T02:32:24.528Z">
<meta property="article:author" content="Alan">
<meta property="article:tag" content="技术分享">
<meta name="twitter:card" content="summary">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://blog-alan.oss-cn-hangzhou.aliyuncs.com/head/heads.png">
  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header">

<div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://blog-alan.oss-cn-hangzhou.aliyuncs.com/head/heads.png" onerror="javascript:this.classList.add('error');this.src='https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">Alan</div></a></div>


<nav class="menu dis-select"><a class="nav-item" href="/index/">首页</a><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/wiki/">项目</a></nav>
</header>


<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">NoSQL数据库简介</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NoSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E4%BB%8B"><span class="toc-text">NoSQL数据库简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E6%A6%82%E8%BF%B0%E5%92%8C%E5%AE%89%E8%A3%85"><span class="toc-text">Redis6概述和安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E4%BA%94%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">常用五大数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#String%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">String字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list%E5%88%97%E8%A1%A8"><span class="toc-text">list列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set%E9%9B%86%E5%90%88"><span class="toc-text">set集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hash%E5%93%88%E5%B8%8C"><span class="toc-text">hash哈希</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88"><span class="toc-text">Zset有序集合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3"><span class="toc-text">Redis6配置文件详解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E7%9A%84%E5%8F%91%E5%B8%83%E5%92%8C%E8%AE%A2%E9%98%85"><span class="toc-text">Redis6的发布和订阅</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E6%96%B0%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">Redis6新数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jedis%E6%93%8D%E4%BD%9CRedis6"><span class="toc-text">Jedis操作Redis6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E4%B8%8ESpringboot%E6%95%B4%E5%90%88"><span class="toc-text">Redis6与Springboot整合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E7%9A%84%E4%BA%8B%E7%89%A9%E6%93%8D%E4%BD%9C"><span class="toc-text">Redis6的事物操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E6%8C%81%E4%B9%85%E5%8C%96%E4%B9%8BRDB"><span class="toc-text">Redis6持久化之RDB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E6%8C%81%E4%B9%85%E5%8C%96%E4%B9%8BAOF"><span class="toc-text">Redis6持久化之AOF</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-text">Redis6的主从复制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E9%9B%86%E7%BE%A4"><span class="toc-text">Redis6集群</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E5%BA%94%E7%94%A8%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-text">Redis6应用问题解决</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis6%E6%96%B0%E5%8A%9F%E8%83%BD"><span class="toc-text">Redis6新功能</span></a></li></ol></div></div></div>




</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a></div><div id="post-meta">发布于&nbsp;<time datetime="2023-04-17T08:38:00.000Z">2023-04-17</time></div></div>

<article class='content md post'>
<h1 class="article-title"><span>NoSQL数据库简介</span></h1>
<h2 id="NoSQL数据库简介"><a href="#NoSQL数据库简介" class="headerlink" title="NoSQL数据库简介"></a>NoSQL数据库简介</h2><p>![截屏2023-07-16 11.31.57](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.31.57.png)</p>
<p>![截屏2023-07-16 11.29.31](/Users/alan/Desktop/截屏2023-07-16 11.29.31.png)</p>
<p>![截屏2023-07-16 11.32.24](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.32.24.png)、</p>
<p><strong>NoSQL数据库概述</strong></p>
<p>nosql不仅仅是sql，泛指<strong>非关系性数据库</strong></p>
<p>noSQL不依赖业务逻辑方式存储，而是简单的key-value模式存储，增加了数据库扩展能力</p>
<ul>
<li>不遵循sql标准</li>
<li>不支持ACID（事物四特性）</li>
<li>远超于SQL的性能</li>
</ul>
<p><strong>NoSQL适用场景</strong></p>
<ul>
<li>对数据高并发的读写</li>
<li>海量数据的读写</li>
<li>对数据高可扩展性的</li>
</ul>
<p>不适用场景</p>
<ul>
<li>需要事物支出</li>
<li>基于sql的结构化查询存储，处理复杂的关系，需要即席查询</li>
<li>用不着sql的和用了sql也不行的情况，就需要考虑NoSql</li>
</ul>
<p>Memcache</p>
<p>Redis</p>
<p>MongoDb</p>
<p>![截屏2023-07-16 11.39.44](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.39.44.png)</p>
<p>![截屏2023-07-16 11.40.31](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.40.31.png)</p>
<p>行式数据库</p>
<p>![截屏2023-07-16 11.42.40](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.42.40.png)</p>
<p>列式数据库</p>
<p>![截屏2023-07-16 11.42.25](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.42.25.png)</p>
<p>图关系数据库</p>
<h2 id="Redis6概述和安装"><a href="#Redis6概述和安装" class="headerlink" title="Redis6概述和安装"></a>Redis6概述和安装</h2><p>c语言环境</p>
<p>make</p>
<p>make install</p>
<p>![截屏2023-07-16 11.45.46](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.51.56.png)</p>
<p><strong>前台启动</strong></p>
<p>Redis-server</p>
<p><strong>后台启动</strong></p>
<p>![截屏2023-07-16 11.54.52](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-16 11.54.52.png)</p>
<p>Redis-server /etc/redis.conf</p>
<p><strong>关闭</strong></p>
<ul>
<li>shutdown</li>
<li>杀进程</li>
</ul>
<p><strong>相关知识</strong></p>
<p>默认端口号6379</p>
<p>默认提供16个数据库，下标从0开始，默认使用0号库</p>
<p>使用select <dbid>来切换数据库</p>
<p>统一密码管理，所有库同样密码</p>
<p>dbsize查看当前数据库的key的数量</p>
<p>flushdb清空当前数据库</p>
<p>flushall通杀全部库</p>
<p>单线程+多路IO复用（redis）</p>
<p>串行vs多线程+锁（memcached）vs单线程+多路IO复用（redis）</p>
<h2 id="常用五大数据类型"><a href="#常用五大数据类型" class="headerlink" title="常用五大数据类型"></a>常用五大数据类型</h2><h4 id="String字符串"><a href="#String字符串" class="headerlink" title="String字符串"></a>String字符串</h4><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>keys *</td>
<td>查看当前库所有key</td>
</tr>
<tr>
<td>Exists key</td>
<td>判断某个key是否操作</td>
</tr>
<tr>
<td>Type key</td>
<td>查看key类型</td>
</tr>
<tr>
<td>Del key</td>
<td>删除指定的key的数据</td>
</tr>
<tr>
<td>unlink key</td>
<td>根据value选择非阻赛删除（异步删除）</td>
</tr>
<tr>
<td>Expire key 10</td>
<td>为key设置过期时间</td>
</tr>
<tr>
<td>ttl key查看还有多少秒过期</td>
<td>-1表示永不过期，-2表示已过期</td>
</tr>
<tr>
<td>select</td>
<td>切换数据库</td>
</tr>
<tr>
<td>dbsize</td>
<td>查看当前数据库的key数量</td>
</tr>
<tr>
<td>flushdb</td>
<td>清空当前数据库</td>
</tr>
<tr>
<td>flushall</td>
<td>清空所有数据库</td>
</tr>
</tbody></table>
<p>String字符串</p>
<p>String类型是二进制安全的。意味着redis的string可以包含任何数据，比如图片或者序列化的对象</p>
<p>String类型是redis最基本的数据类型，一个redis中字符串value最多可以是512M</p>
<p>常用命令</p>
<p>Set <key><value>添加键值对</p>
<p>*NX:当前数据库key不存在时，可将key-value添加数据库</p>
<p>*XX:当数据库中key存在时，可以将key-value添加数据库，与NX参数互斥</p>
<p>*EX:key的超市秒数</p>
<p>*PX:key的超时好描述，与EX互斥</p>
<p>Get <key>查询对应的值</p>
<p>Append <key> <value>将给定的<value>追加到原值的末尾</p>
<p>stglen <key>获得 值的长度</p>
<p>Setnx <key><value>只有key存在时，设置key的值</p>
<p>incr <key></p>
<p>将key中存储的数字值增1</p>
<p>智能对数字值操作，如果为空新增为1</p>
<p>Dear <key></p>
<p>将key中存储的数字值减1</p>
<p>智能对数字值操作，如果为空新增为-1</p>
<p>Incrby/decrby <key> &lt;步长&gt;将key中存储的数字的值增减。自定义步长</p>
<p>原子性：不会被线程调度机制打断的操作</p>
<p>所谓原子操作是指不会被线程调度机制打断的操作；+</p>
<p>这种操作一旦开始，就一直运行到结束，中间不会有任何 context switch（切换到另一个线程）。，</p>
<p>（1）在单线程中 ，能够在单条指令中完成的操作都可以认为是。“原子操作”，因为中断只能发生于指令之间。。</p>
<p>（2）在多线程中 ，不能被其它进程 （线程）打断的操作就叫原子操作。。</p>
<p>Redis 单命令的原子性主要得益于 Redis 的单线程。</p>
<p>Mset <key1><value1><key2><value2>….</p>
<p>同时设置一个或多个key-value对</p>
<p>mget <key1><key2>…</p>
<p>同时获取一个或多个value</p>
<p>msetnx <key1><value1><key2><value2>….</p>
<p>同时设置1个或多个key-value对，当且仅当多有给定key都不存在</p>
<p>原子性，有一个失败则都失败</p>
<p>Getrange <key>&lt;起始位置&gt;<value></p>
<p>获取范围的值，类似java中的substring，前包，后包</p>
<p>Strange <key>&lt;起始位置&gt;<value></p>
<p>用<value>覆写<key>所存储的字符串值，从&lt;起始位置&gt;开始（索引从0开始）</p>
<p>Setex <key>&lt;过期时间&gt;<value></p>
<p>设置键值的同时，设置过期时间，单位秒</p>
<p>Getset <key><value></p>
<p>以新换旧，设置了新值同时获得旧值</p>
<p>数据结构</p>
<p>String的数据结构为简单动态字符串（SDS）是可以修改的字符串，内部结构实现上类似于java的Arraylist，采用预分配冗余空间的方式来减少内存的频繁分配</p>
<p>内部为当前字符串实际分配的空间capacity一般要高于实际字符串长度len，当字符串长度小于1M时，扩容都是加倍现有的空间，如果超过1M，扩容时一次只会多扩容1M的空间。需要注意的是字符串最大长度是512M</p>
<h4 id="list列表"><a href="#list列表" class="headerlink" title="list列表"></a>list列表</h4><p><strong>简介</strong></p>
<p>单键多值。</p>
<p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</p>
<p>它的底层实际是个双向链表，对两端的操作性能很高，通过索引下标的操作中间的节点性能会较差。</p>
<p><strong>常用命令</strong></p>
<p>lputh/gpush skey &gt;<value1><valuez><value3>…从左边/右边插入一个或多个值。。</p>
<p>pop/rpop <key>从左边/右边吐出一个值。值在键在，值光健亡</p>
<p>rpoplpush <key1><key2>从<key1>列表右边吐出一个值，插到<key2>列表左边。。</p>
<p>Irange <key> <start> <stop></p>
<p>lrange key 0 -1</p>
<p>按照素引下标获得元素(从左到右)</p>
<p>lindex <key ><index>按照索引下标获得元素(从左到有)</p>
<p>llen <key>获得列表长度。</p>
<p>linsert &lt;key＞before <value> <newvalue>在<value>的前面插入<newvalue>插入值</p>
<p>lrem <key><n><value>从左边删除n个value(从左到右)</p>
<p>Iset<key><index><value>将列表 key 下标为 index的值替换成 value</p>
<p><strong>数据结构</strong></p>
<p>List 的数据结构为快速链表 quickList。 +</p>
<p>首先在列表元素较少的情况下会使用一块连续的内存存储，这个结构是 ziplist ，也即是压缩列表。</p>
<p>它将所有的元素紧挨着一起存储，分配的是一块连续的内存。</p>
<p>当数据量比较多的时候才会改成 quicklist。</p>
<p>因为普通的链表需要的附加指针空间太大，会比较浪费空间。比如这个列表里存的只是int 类型的数据，结构上还需要两个额外的指针 prer 和 next.</p>
<p>Redis 将錠表和 ziplist結合起来成了 quicklist。地就是将多个 ziplist使用双向指</p>
<p>针串起来使用。这样既满足了快速的插入删除性能，又不会出现太大的空间元余。</p>
<h4 id="set集合"><a href="#set集合" class="headerlink" title="set集合"></a>set集合</h4><p><strong>常用命令</strong></p>
<p>sadd <key ><value1> <value2> ….</p>
<p>将一个或多不 member 元素加入到集合 key 中，已经存在的 member 元素将被忽略。</p>
<p>smembers <key>取出该集合的所有值。。</p>
<p>sismember <key ><value>判断集合<key>是否为含有该<value>值，有1，没有0</p>
<p>scard <key>返回该集合的元素个数。</p>
<p>srem <key><value1><value2>….删除集合中的某个元素。</p>
<p>spop ＜key&gt;随机从该集合中吐出一个值。。</p>
<p>srandmember <key><n>随机从该集合中取出 n个值。不会从集合中删除。。</p>
<p>smove <source> <destination>value 把集合中一个值从一个集合移动到另一个集合，</p>
<p>sinter <key1> <key2>返回两个集合的交集元素。</p>
<p>sunion <key1> <key2>返回两个集合的井集元素。</p>
<p>sdiff<key1> <key2>返回两个集合的差集元素（key1 中的、不包合key2中的）</p>
<p>数据结构</p>
<p>Java中Hashset的内部实现使用的是 Hasthap，只不过所有的value都指向同一个对象。</p>
<p>Redis 的set 结构也是一样，它的内部也使用hash结构，所有的value 都指向同一个内</p>
<p>部值</p>
<h4 id="hash哈希"><a href="#hash哈希" class="headerlink" title="hash哈希"></a>hash哈希</h4><p>Redis hash 是一个键值对集合。。</p>
<p>Redis hash 是一个 string 类型的 field 和 value 的映射表，hash 特別造合于存储対象。</p>
<p>类似 Java 里面的 Map&lt;String. Object&gt;</p>
<p>用户1D为查找的key，存储的value 用户对象包合姓名，年齡，生日等信息，如果用</p>
<p>普通的key/value 结构来存储</p>
<p><strong>常用命令</strong></p>
<p>hset <key><field><value>给(key&gt;集合中的 <field>键赋值<value></p>
<p>hget <key1><field> 从<key1>集合<field>取出 value</p>
<p>hmset <keyl><fieldl><valuel><field2><value2>…批量设置 hash 的值</p>
<p>hexists <keyI><field>查看哈希表key中，给定域field是否存在。</p>
<p>hkeys <key>列出 hash 集合的所有 field</p>
<p>hvals <key>列出核 hash 集合的所有 value</p>
<p>hinerby <key><field><increment>为哈希表key 中的域 field 的値加上増量 1 -1,可以的设置要加上的值</p>
<p>hsetnx  <key><field><value>将哈希表 key 中的域field 的值设置为 value，当且仅当域</p>
<p>field 不存在</p>
<p><strong>数据结构</strong></p>
<p>Hash 类型对应的数据结构是两种：ziplist（压缩列表)，hashtable（哈希表)。当</p>
<p>field-value 长度较短且个数较少时，使用ziplist，否则使用 hashtable。</p>
<h4 id="Zset有序集合"><a href="#Zset有序集合" class="headerlink" title="Zset有序集合"></a>Zset有序集合</h4><p>Redis 有序集合 zset 与普通集合 set 非常相似，是一个没有重复元素的字符串集合。</p>
<p>不同之处是有序集合的每个成员都关联了一个评分（score），这个评分(score）被用来按照从最低分到最高分的方式排序集合中的成员。集合的成员是唯一的，但是评分可以是重复了。</p>
<p>因为元素是有序的，所以你也可以很快的根据评分（score）或者次序（position ） 来获</p>
<p>取一个范国的元素。</p>
<p>访问有序集合的中间元素也是非常快的,因此你能够使用有序集合作为一个没有重复成员的智能列表。</p>
<p><strong>常用命令</strong></p>
<p>zadd <key><scorel><valuel><scorez><value2></p>
<p>将一个或多个member 元素及其score值加入到有序集 key 当中</p>
<p>zrange <key><start><stop> [WITHSCORES]</p>
<p>返回有序集 key 中，下标在<start><stop>之间的元素</p>
<p>带 WITHSCORES，可以让分数一起和值返回到结果集</p>
<p>zrangebyscore key min max [withscores] [limit offset count]</p>
<p>返回有序集 key 中，所有score 值介于 min 和max之间(包括等于min 或max）的成员。</p>
<p>有序集成员按 score 值递增(从小到大次序排列。</p>
<p>zrevrangebyscore key maxmin [withscores] [limit offset count]</p>
<p>同上，改为从大到小排列。。</p>
<p>zincrby <key > <increment> <value></p>
<p>为元素的score 加上增量</p>
<p>zrem <key><value>删除该集合下，指定值的元素，</p>
<p>zcount <key><min><max>统计该集合，分数区间内的元素个数。</p>
<p>zrank <key><value>返回该值在集合中的排名，从0开始。。</p>
<p><strong>数据结构</strong></p>
<p>Sortedset (zset)是 Redis 提供的一个非常特别的数据结构，一方面它等价于 Jaxa</p>
<p>的数据结构Ma西&lt;String, Double》，可以给每一个元素 vlue 赋子一个权重 score，另一方面它又类似于 TseeSet，内部的元素会按照权重 score 进行排序，可以得到每元素的名次，还可以通过 score 的范国来获取元素的列表。。</p>
<p>zset 底层使用了两个数据结构。</p>
<p>(1）hash ,hash 的作用就是关联元素 value 和权重 score，保障元素 value 的唯一性，可以通过元素 value 找到相应的 score 值。。</p>
<p>(2）跳跃表，跳跃表的目的在于给元素 value 排序，根据 score 的范围获取元素</p>
<p>列表。</p>
<p>3.6.4.</p>
<p>1、 简介</p>
<p>有序集合在生活中比较常见，例如根据成绩对学生排名，根据得分对玩家排名等。对于有序集合的底层实现，可以用数组、平衡树、链表等。数组不便元素的插入、删除；平衡树或红黑树星然效率高但结构复杂；链表查询需要遍历所有效率低。Redis</p>
<p>采用的是跳出表。跳跃表效车雄士七红黑树 ，夹现远比红黑树简单。</p>
<p>2、实例</p>
<p>对比有序链表和跳跃表，从链表中查询出 51。</p>
<p>（1）有序链表。</p>
<h2 id="Redis6配置文件详解"><a href="#Redis6配置文件详解" class="headerlink" title="Redis6配置文件详解"></a>Redis6配置文件详解</h2><p>第一部分单位设置，不区分大小写，只支持byte</p>
<p>![截屏2023-07-17 14.08.26](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.08.26.png)</p>
<p>第二部分，包含部分，可以包含其他文件中内容</p>
<p>![截屏2023-07-17 14.08.59](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.08.59.png)</p>
<p>第三部分，网络部分</p>
<p>![截屏2023-07-17 14.11.25](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.11.25.png)</p>
<p>![截屏2023-07-17 14.11.38](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.11.38.png)</p>
<p>![截屏2023-07-17 14.12.16](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.12.16.png)</p>
<p>开启保护模式</p>
<p>只能本机访问，不能远程访问</p>
<p>端口号</p>
<p>![截屏2023-07-17 14.13.38](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.13.38.png)</p>
<p>![截屏2023-07-17 14.13.47](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.13.47.png)</p>
<p>![截屏2023-07-17 14.15.23](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.15.23.png)</p>
<p>太久没有操作，过来时间需要重新连接</p>
<p>0，用不超时</p>
<p>以秒为单位</p>
<p>![截屏2023-07-17 14.16.35](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.16.35.png)</p>
<p>很长时间没有操作，这个是心跳时间，检查是否还在操作，检测周期为300</p>
<p>![截屏2023-07-17 14.18.29](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.18.29.png)</p>
<p>后台启动</p>
<p>![截屏2023-07-17 14.18.44](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.18.44.png)</p>
<p>把每次的进程号保存到文件中</p>
<p>![截屏2023-07-17 14.19.16](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.19.16.png)</p>
<p>设置日志级别</p>
<p>debug能看到更详细的信息</p>
<p>verbose一些有用的信息</p>
<p>notice生产环境用</p>
<p>warning显示重要的信息</p>
<p>![截屏2023-07-17 14.20.49](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.20.49.png)</p>
<p>设置文件的输出路径![截屏2023-07-17 14.21.14](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.21.14.png)</p>
<p>默认16个库</p>
<p>![截屏2023-07-17 14.22.30](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.22.30.png)</p>
<p>![截屏2023-07-17 14.22.39](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.22.39.png)</p>
<p>![截屏2023-07-17 14.22.45](/Users/alan/Library/Application Support/typora-user-images/截屏2023-07-17 14.22.45.png)</p>
<h2 id="Redis6的发布和订阅"><a href="#Redis6的发布和订阅" class="headerlink" title="Redis6的发布和订阅"></a>Redis6的发布和订阅</h2><h2 id="Redis6新数据类型"><a href="#Redis6新数据类型" class="headerlink" title="Redis6新数据类型"></a>Redis6新数据类型</h2><h2 id="Jedis操作Redis6"><a href="#Jedis操作Redis6" class="headerlink" title="Jedis操作Redis6"></a>Jedis操作Redis6</h2><h2 id="Redis6与Springboot整合"><a href="#Redis6与Springboot整合" class="headerlink" title="Redis6与Springboot整合"></a>Redis6与Springboot整合</h2><h2 id="Redis6的事物操作"><a href="#Redis6的事物操作" class="headerlink" title="Redis6的事物操作"></a>Redis6的事物操作</h2><h2 id="Redis6持久化之RDB"><a href="#Redis6持久化之RDB" class="headerlink" title="Redis6持久化之RDB"></a>Redis6持久化之RDB</h2><h2 id="Redis6持久化之AOF"><a href="#Redis6持久化之AOF" class="headerlink" title="Redis6持久化之AOF"></a>Redis6持久化之AOF</h2><h2 id="Redis6的主从复制"><a href="#Redis6的主从复制" class="headerlink" title="Redis6的主从复制"></a>Redis6的主从复制</h2><h2 id="Redis6集群"><a href="#Redis6集群" class="headerlink" title="Redis6集群"></a>Redis6集群</h2><h2 id="Redis6应用问题解决"><a href="#Redis6应用问题解决" class="headerlink" title="Redis6应用问题解决"></a>Redis6应用问题解决</h2><h2 id="Redis6新功能"><a href="#Redis6新功能" class="headerlink" title="Redis6新功能"></a>Redis6新功能</h2>

<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a>许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2023/04/17/HCIP/">深度学习预备知识opencv笔记</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2023/04/17/note-opencv/">opencv笔记</a></div></section></div>






  <div class='related-wrap md reveal' id="comments">
    <div class='cmt-title cap theme'>
      快来参与讨论吧
    </div>
    <div class='cmt-body giscus'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="giscus" data-repo="Alanosy/comment_blog" data-repo-id="R_kgDONlpusg" data-category="Announcements" data-category-id="DIC_kwDONlpuss4Clthk" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" src="https://giscus.app/client.js"></div>

    </div>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本站由 <a href="/">@anonymity</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.13.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.13.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js'
  };

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@6/swiper-bundle.min.css","js":"https://unpkg.com/swiper@6/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://fastly.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://fastly.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti/umd/heti.min.css","js":"https://unpkg.com/heti/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadJS() {
    const els = document.querySelectorAll("#comments #giscus");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    loadJS();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
